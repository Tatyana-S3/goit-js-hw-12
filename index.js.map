{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '52781164-186021ddb033549fd762d563f';\n\nexport function getImagesByQuery(query) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n\n  return axios.get(BASE_URL, { params }).then(response => {\n    return response.data;\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryList = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  close: true,\n});\n\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n  <li class='gallery-item'>\n  <a href='${largeImageURL}'>\n  <img src='${webformatURL}' alt='${tags}' />\n  </a>\n  <div class='info'>\n  <p class='info-item'><b>Likes:</b> ${likes}</p>\n  <p class='info-item'><b>Views:</b> ${views}</p>\n  <p class='info-item'><b>Comments:</b> ${comments}</p>\n  <p class='info-item'><b>Downloads:</b> ${downloads}</p>\n  </div>\n  </li>\n  `\n    )\n    .join('');\n  galleryList.innerHTML = markup;\n  lightbox.refresh();\n}\nexport function clearGallery() {\n  galleryList.innerHTML = '';\n}\nexport function showLoader() {\n  loader.classList.add('visible');\n}\nexport function hideLoader() {\n  loader.classList.remove('visible');\n}\n","import { getImagesByQuery } from './js/pixabay-api';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector(\"input[name = 'search-text']\");\n\ninput.removeAttribute('required');\n\nform.addEventListener('submit', handlerSubmitForm);\n\nfunction handlerSubmitForm(event) {\n  event.preventDefault();\n\n  const query = input.value.trim().toLowerCase();\n\n  if (!query) {\n    iziToast.warning({\n      message: 'Please enter a search term!',\n      position: 'topRight',\n      theme: 'dark',\n      backgroundColor: 'red',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  setTimeout(() => {\n    getImagesByQuery(query)\n      .then(data => {\n        if (!data.hits.length) {\n          iziToast.warning({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            theme: 'dark',\n            backgroundColor: 'red',\n            messageSize: '16',\n            timeout: 5000,\n          });\n          return;\n        }\n        createGallery(data.hits);\n      })\n      .catch(error => {\n        iziToast.error({\n          title: 'Error',\n          message: 'Something went wrong. Please try again later!',\n          position: 'topRight',\n          theme: 'dark',\n          backgroundColor: 'red',\n          timeout: 5000,\n        });\n      })\n      .finally(() => {\n        hideLoader();\n        form.reset();\n      });\n  }, 0);\n}\n"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","params","axios","response","galleryList","loader","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","input","handlerSubmitForm","event","iziToast","data","error"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACtC,MAAMC,EAAS,CACb,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEE,OAAOE,EAAM,IAAIL,EAAU,CAAE,OAAAI,EAAQ,EAAE,KAAKE,GACnCA,EAAS,IACjB,CACH,CCdA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,MAAO,EACT,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,aAECL,CAAa;AAAA,cACZD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,uCAGDC,CAAK;AAAA,uCACLC,CAAK;AAAA,0CACFC,CAAQ;AAAA,2CACPC,CAAS;AAAA;AAAA;AAAA,GAI/C,EACA,KAAK,EAAE,EACVb,EAAY,UAAYM,EACxBJ,EAAS,QAAO,CAClB,CACO,SAASY,GAAe,CAC7Bd,EAAY,UAAY,EAC1B,CACO,SAASe,GAAa,CAC3Bd,EAAO,UAAU,IAAI,SAAS,CAChC,CACO,SAASe,GAAa,CAC3Bf,EAAO,UAAU,OAAO,SAAS,CACnC,CCtCA,MAAMgB,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,6BAA6B,EAElEA,EAAM,gBAAgB,UAAU,EAEhCD,EAAK,iBAAiB,SAAUE,CAAiB,EAEjD,SAASA,EAAkBC,EAAO,CAChCA,EAAM,eAAc,EAEpB,MAAMxB,EAAQsB,EAAM,MAAM,KAAM,EAAC,YAAW,EAE5C,GAAI,CAACtB,EAAO,CACVyB,EAAS,QAAQ,CACf,QAAS,8BACT,SAAU,WACV,MAAO,OACP,gBAAiB,KACvB,CAAK,EACD,MACD,CAEDP,IACAC,IAEA,WAAW,IAAM,CACfpB,EAAiBC,CAAK,EACnB,KAAK0B,GAAQ,CACZ,GAAI,CAACA,EAAK,KAAK,OAAQ,CACrBD,EAAS,QAAQ,CACf,QACE,2EACF,SAAU,WACV,MAAO,OACP,gBAAiB,MACjB,YAAa,KACb,QAAS,GACrB,CAAW,EACD,MACD,CACDjB,EAAckB,EAAK,IAAI,CAC/B,CAAO,EACA,MAAMC,GAAS,CACdF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,WACV,MAAO,OACP,gBAAiB,MACjB,QAAS,GACnB,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CACbL,IACAC,EAAK,MAAK,CAClB,CAAO,CACJ,EAAE,CAAC,CACN"}